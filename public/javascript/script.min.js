function capitalizeFirstLetter(e){e.value=e.value.charAt(0).toUpperCase()+e.value.slice(1).toLowerCase()}function showPwd(){const e=document.getElementById("password"),t="password"===e.type?"text":"password";e.type=t,document.getElementById("togglePassword").classList.toggle("fa-eye-slash")}function showPwd2(){const e=document.getElementById("password2"),t="password"===e.type?"text":"password";e.type=t,document.getElementById("togglePassword2").classList.toggle("fa-eye-slash")}function showToast(e,t){toastr.options={closeButton:!0,debug:!1,newestOnTop:!0,progressBar:!0,positionClass:"toast-bottom-center",preventDuplicates:!0,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},toastr[e](t)}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("container"),t=document.getElementById("register"),o=document.getElementById("login");t.addEventListener("click",()=>{e.classList.add("active")}),o.addEventListener("click",()=>{e.classList.remove("active")})}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("data"),t=new Date,o=new Date;o.setFullYear(t.getFullYear()-12);const a=o.toISOString().split("T")[0];e.setAttribute("max",a)}),document.getElementById("registrazioneForm").addEventListener("submit",function(e){const t=document.getElementById("password").value;let o=[];[{regex:/[a-z]/,message:"Almeno una lettera minuscola."},{regex:/[A-Z]/,message:"Almeno una lettera maiuscola."},{regex:/\d/,message:"Almeno un numero."},{regex:/[^\w\s]/,message:"Almeno un carattere speciale."},{regex:/^.{8,20}$/,message:"Lunghezza tra 8 e 20 caratteri."}].forEach(e=>{e.regex.test(t)||o.push(e.message)}),o.length>0&&(e.preventDefault(),alert("Condizioni non soddisfatte:\n\n"+o.join("\n")))}),document.getElementById("nome").addEventListener("input",function(){capitalizeFirstLetter(this)}),document.getElementById("cognome").addEventListener("input",function(){capitalizeFirstLetter(this)}),document.getElementById("sda").addEventListener("input",function(){capitalizeFirstLetter(this)}),document.getElementById("cf").addEventListener("input",function(){this.value=this.value.toUpperCase(),this.value.length>16&&(this.value=this.value.slice(0,16))}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("pricing-plan-switch"),t=document.querySelector("input[name='cu'][placeholder='Inserisci il tuo Codice Univoco']");function o(){e.checked?(t.style.display="block",t.required=!0):(t.style.display="none",t.value="",t.required=!1)}e.addEventListener("change",o),o()}),window.onload=function(){const e=new URLSearchParams(window.location.search).get("error");if(e)switch(toastr.options={closeButton:!0,debug:!1,newestOnTop:!0,progressBar:!0,positionClass:"toast-bottom-center",preventDuplicates:!0,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},e){case"password":toastr.error("Credenziali errate. Riprova.");break;case"formatoEmail":toastr.error("Il formato dell'email è errato. Riprova.");break;case"formatoNome":toastr.error("Il formato del nome è errato. Riprova.");break;case"formatoCognome":toastr.error("Il formato del cognome è errato. Riprova.");break;case"formatoSDA":toastr.error("Il formato del codice SDA è errato. Riprova.");break;case"formatocf":toastr.error("Il formato del codice fiscale è errato. Riprova.");break;case"formatoDataNascita":toastr.error("Il formato della data di nascita è errato. Riprova.");break;case"formatoPassword":toastr.error("Il formato della password è errato. Riprova.");break;case"formatoCU":toastr.error("Il formato del codice univoco è errato. Riprova.");break;case"alreadyRegistered":toastr.info("Utente già registrato. Reindirizzamento alla pagina di login...");const e=new URL(window.location.href);e.searchParams.delete("error"),window.history.replaceState({},"",e),setTimeout(()=>{window.location.replace("/login")},3e3);break;default:toastr.error("Errore sconosciuto. Riprova.")}};